# SchoolERPPortal — Project Overview & Development README

This repository contains a full-stack School ERP demo app (React + Vite + Express). The README below summarizes the project structure, how to run and build, key implementation notes, and troubleshooting tips.

## Quick links (files & notable symbols)
- Configuration & scripts: [package.json](package.json), [.replit](.replit), [vite.config.ts](vite.config.ts)
- Server entry & dev integration: [backend/index.ts](backend/index.ts), [backend/routes.ts](backend/routes.ts), [backend/storage.ts](backend/storage.ts)
- Vite dev server helpers: [`log`](backend/vite.ts), [`setupVite`](backend/vite.ts), [`serveStatic`](backend/vite.ts) — see [backend/vite.ts](backend/vite.ts)
- Shared types/schema: [shared/schema.ts](shared/schema.ts)
- Client root and HTML: [frontend/index.html](frontend/index.html)
- Client app entry: [frontend/src/App.tsx](frontend/src/App.tsx) — key exports: [`User`](frontend/src/App.tsx), [`Router`](frontend/src/App.tsx)
- Firebase placeholder config & exports: [frontend/src/firebase.ts](frontend/src/firebase.ts) — exports: [`auth`](frontend/src/firebase.ts), [`db`](frontend/src/firebase.ts), [`appId`](frontend/src/firebase.ts)
- UI components (examples):
  - Calendar UI: [`Calendar`](frontend/src/components/ui/calendar.tsx) — [frontend/src/components/ui/calendar.tsx](frontend/src/components/ui/calendar.tsx)
  - Chart styles & tooltip: [`ChartStyle`](frontend/src/components/ui/chart.tsx), [`ChartTooltipContent`](frontend/src/components/ui/chart.tsx) — [frontend/src/components/ui/chart.tsx](frontend/src/components/ui/chart.tsx)
  - Toast primitives: [`Toast`](frontend/src/components/ui/toast.tsx), [`ToastViewport`](frontend/src/components/ui/toast.tsx) — [frontend/src/components/ui/toast.tsx](frontend/src/components/ui/toast.tsx)

## Project layout (high level)
- frontend/ — React SPA (Vite). Source is under `frontend/src`.
- backend/ — Express server that integrates Vite in middleware mode for dev. See [backend/vite.ts](backend/vite.ts).
- shared/ — shared TypeScript schema/types between client and server.
- attached_assets/ — static or generated assets.
- .replit / vite.config.ts — Replit + Vite config for development/deployment.

## How to run (development)
1. Install dependencies:
```bash
npm install
```

2. Start dev workflow (Replit / local expects `npm run dev`):
```bash
npm run dev
```
- The `.replit` file runs `npm run dev` by default.
- Dev server is wired so the Express server mounts Vite middleware via [`setupVite`](backend/vite.ts). See [backend/vite.ts](backend/vite.ts).

3. Open the app:
- Dev environment exposes ports configured in `.replit`. By default `.replit` sets `PORT=5000`. See `.replit` and [vite.config.ts](vite.config.ts) for port / alias configs.

## Build / Production
Build artifacts are produced into `dist/public` as configured by [vite.config.ts](vite.config.ts). To build:
```bash
npm run build
npm run start
```
- `.replit` uses `npm run build` for its deployment step.

## Notable implementation details & TODOs
- Vite + Express integration:
  - The server mounts Vite middleware so the client is served with hot-module reload during development. Check [backend/vite.ts](backend/vite.ts) for functions: [`log`](backend/vite.ts), [`setupVite`](backend/vite.ts), [`serveStatic`](backend/vite.ts).
- Aliases:
  - `@` -> `frontend/src`, `@shared` -> `shared`, `@assets` -> `attached_assets`. See [vite.config.ts](vite.config.ts).
- Firebase:
  - `frontend/src/firebase.ts` contains placeholder Firebase config. Replace with real project values before using auth or Firestore. Exports: [`auth`](frontend/src/firebase.ts), [`db`](frontend/src/firebase.ts), [`appId`](frontend/src/firebase.ts).
- App structure:
  - Main app routing & in-memory sample data is in [frontend/src/App.tsx](frontend/src/App.tsx). The `User` type and `Router` helper are declared there: [`User`](frontend/src/App.tsx), [`Router`](frontend/src/App.tsx).
- UI components follow a component library pattern under `frontend/src/components/ui/`. Examples:
  - Calendar: [`Calendar`](frontend/src/components/ui/calendar.tsx) integrates `react-day-picker`.
  - Chart: [`ChartStyle`](frontend/src/components/ui/chart.tsx) injects theme CSS variables for charts.
  - Toast: [`Toast`](frontend/src/components/ui/toast.tsx) wraps Radix primitives and provides variants.

## Environment & secrets
- `.env` exists in repo root; ensure any sensitive values (DB connection, Firebase) are not committed.
- Replit `.replit` defines `PORT` and dev workflows. For local dev use the same `PORT` or let Vite handle HMR ports.

## Troubleshooting & tips
- If Vite middleware fails to start, check console output from server — [`log`](backend/vite.ts) formats server logs with timestamps to aid debugging.
- If the client tries to use Firebase, ensure `frontend/src/firebase.ts` is updated; otherwise Firestore/auth calls will fail silently or error with invalid credentials.
- Aliases may confuse IDE intellisense if not configured — ensure your editor uses the project's tsconfig paths and Vite aliases in [vite.config.ts](vite.config.ts).

## Suggested next steps
- Replace placeholder Firebase config in [frontend/src/firebase.ts](frontend/src/firebase.ts).
- Add unit / integration tests (none are present by default).
- Externalize config (e.g., env vars) for production deployments rather than hardcoding any IDs.
- Document API endpoints in [backend/routes.ts](backend/routes.ts) and add OpenAPI / Postman collection if intended for consumption.

## Contact
For code-level edits, modify files in the repository and use the same `npm run dev` workflow to iterate.
